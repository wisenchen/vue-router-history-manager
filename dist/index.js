"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("vue"),r=function(){function r(r){var e=this;this.currentIdx=t.ref(-1),this.historyStack=t.ref([]),this.router=r,this._updateHistory(),this.router.afterEach((function(){e._updateHistory()}))}return r.prototype._updateHistory=function(){var t,r=null===(t=window.history.state)||void 0===t?void 0:t.key;if(r){var e=this.historyStack.value.indexOf(r);-1===e?(this.historyStack.value.push(r),this.currentIdx.value=this.historyStack.value.length-1):this.currentIdx.value=e}},r.prototype.canBack=function(){return this.currentIdx.value>0},r.prototype.canForward=function(){return this.currentIdx.value<this.historyStack.value.length-1},r}(),e={install:function(t,e){var i=e.router;if(!i)throw new Error("Router is required");var o=new r(i);t.prototype.$historyManager=o}};exports.VueRouterHistoryManager=r,exports.default=e;
