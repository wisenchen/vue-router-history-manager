import{ref as t}from"vue";var r=function(){function r(r){var e=this;this.currentIdx=t(-1),this.historyStack=t([]),this.router=r,this._updateHistory(),this.router.afterEach((function(){e._updateHistory()}))}return r.prototype._updateHistory=function(){var t,r=null===(t=window.history.state)||void 0===t?void 0:t.key;if(r){var e=this.historyStack.value.indexOf(r);-1===e?(this.historyStack.value.push(r),this.currentIdx.value=this.historyStack.value.length-1):this.currentIdx.value=e}},r.prototype.canBack=function(){return this.currentIdx.value>0},r.prototype.canForward=function(){return this.currentIdx.value<this.historyStack.value.length-1},r}(),e={install:function(t,e){var i=e.router;if(!i)throw new Error("Router is required");var o=new r(i);t.prototype.$historyManager=o}};export{r as VueRouterHistoryManager,e as default};
